(this["webpackJsonpcorona-tracker"]=this["webpackJsonpcorona-tracker"]||[]).push([[0],{105:function(e,t,n){},107:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),s=(n(97),n(11)),i=n.n(s),l=n(14),u=n(12),d=n(231),f=n(241),h=n(242),j=n(3),v=function(e){return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("h1",{children:"COVID-19 Tracker"}),Object(j.jsxs)("h5",{className:"lastupdate",children:["Last update: ",e.lastUpdate]}),Object(j.jsx)(d.a,{className:"dropdown",children:Object(j.jsxs)(f.a,{variant:"outlined",onChange:e.onCountryChange,value:e.country,children:[Object(j.jsx)(h.a,{value:"worldwide",children:"Worldwide"}),e.countries.map((function(e){return Object(j.jsx)(h.a,{value:e.value,children:e.name},e.name)}))]})})]})},p=n(236),b=n(237),x=n(238),O=(n(105),n(243)),m=n(235),g=n(16),y=n.n(g),w=n(63),k=n.n(w),C=function(e){return e.sort((function(e,t){return e.cases>t.cases?-1:1}))},N=function(e,t){var n,r=[];for(var a in e.cases){if(n){var c={x:a,y:e[t][a]-n};r.push(c)}n=e[t][a]}return r},S={cases:{hex:"#CC1034",multiplier:500},recovered:{hex:"#7dd71d",multiplier:500},deaths:{hex:"#fb4443",multiplier:1700}},P=function(e){return e?y()(e).format("0.0a"):"0"},I=function(e){if(e)return k()(e).fromNow()},R=function(e){return Object(j.jsx)(p.a,{className:"infobox ".concat(e.active&&"infobox--selected"," ").concat(e.isRed&&"infobox--isRed"),onClick:e.onClick,children:Object(j.jsxs)(b.a,{children:[Object(j.jsx)(x.a,{className:"title",color:"textSecondary",children:e.title}),Object(j.jsxs)("h2",{className:"cases ".concat(!e.isRed&&"infobox--notRed"),children:["+",P(e.cases)]}),Object(j.jsxs)(x.a,{className:"total",color:"textSecondary",children:[P(e.total)," Total"]})]})})},M=(n(106),n(107),n(239)),D=n(244),L=n(240),T=function(e){return Object(j.jsx)("div",{className:"map",children:Object(j.jsxs)(M.a,{center:e.center,zoom:e.zoom,scrollWheelZoom:!1,children:[Object(j.jsx)(W,{center:e.center,zoom:e.zoom}),Object(j.jsx)(D.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.countries?(t=e.countries,n=e.type,t.map((function(e){return Object(j.jsx)(O.a,{center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.4,pathOptions:{color:S[n].hex,fillColor:S[n].hex},radius:Math.sqrt(e[n])*S[n].multiplier,children:Object(j.jsx)(m.a,{children:Object(j.jsxs)("div",{className:"info-container",children:[Object(j.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(j.jsx)("div",{className:"info-name",children:e.country}),Object(j.jsxs)("div",{className:"info-confirmed",children:["Cases: ",y()(e.cases).format("0,0")]}),Object(j.jsxs)("div",{className:"info-recovered",children:["Recovered: ",y()(e.recovered).format("0,0")]}),Object(j.jsxs)("div",{className:"info-deaths",children:["Deaths: ",y()(e.deaths).format("0,0")]})]})})})}))):Object(j.jsx)("div",{})]})});var t,n},W=function(e){return Object(L.a)().setView(e.center,e.zoom),Object(j.jsx)("div",{})},z=function(e){return Object(j.jsx)("div",{className:"table",children:e.countries.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.country}),Object(j.jsx)("td",{children:Object(j.jsx)("strong",{children:y()(e.cases).format("0,0")})})]},e.country)}))})},F=n(87),E=n(20),A=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="worldwide"===t?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(t),e.next=3,J(n);case 3:if(r=e.sent,"worldwide"!==t){e.next=8;break}return e.abrupt("return",Object(E.a)(Object(E.a)({},r),{},{countryInfo:{lat:34.80746,long:-40.4796}}));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://disease.sh/v3/covid-19/historical/all?lastdays=".concat(t),e.next=3,J(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}}));t(n)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return y()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return y()(e).format("0a")}}}]}},Y=function(e){var t=a.a.useState(),n=Object(u.a)(t,2),r=n[0],c=n[1];return a.a.useEffect((function(){(function(){var t=Object(l.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(120);case 2:n=t.sent,r=N(n,e.type),c(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.type]),Object(j.jsx)("div",{className:"graph",children:Object(j.jsx)(F.Line,{data:{datasets:[{backgroundColor:"rgba(204, 16, 52, 0.5)",borderColor:"#CC1034",data:r}]},options:V})})},q=(n(203),{updated:1616084947223,country:"Loading... Please wait",countryInfo:{_id:1,iso2:"FI",iso3:"FIN",lat:64,long:26,flag:"https://disease.sh/assets/img/flags/fi.png"},cases:1,todayCases:1,deaths:1,todayDeaths:1,recovered:1,todayRecovered:1,active:1,critical:1,casesPerOneMillion:1,deathsPerOneMillion:1,tests:1,testsPerOneMillion:1,population:1,continent:"Europe",oneCasePerPeople:1,oneDeathPerPeople:1,oneTestPerPeople:1,activePerOneMillion:1.11,recoveredPerOneMillion:1.01,criticalPerOneMillion:1.01});var Q=function(){var e=a.a.useState("cases"),t=Object(u.a)(e,2),n=t[0],r=t[1],c=a.a.useState([34.80746,-40.4796]),o=Object(u.a)(c,2),s=o[0],d=o[1],f=a.a.useState(3),h=Object(u.a)(f,2),x=h[0],O=h[1],m=a.a.useState([]),g=Object(u.a)(m,2),y=g[0],w=g[1],k=a.a.useState([]),N=Object(u.a)(k,2),S=N[0],P=N[1],M=a.a.useState("worldwide"),D=Object(u.a)(M,2),L=D[0],W=D[1],F=a.a.useState(),E=Object(u.a)(F,2),B=E[0],V=E[1],Q=a.a.useState([q]),Z=Object(u.a)(Q,2),$=Z[0],_=Z[1];a.a.useEffect((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("https://disease.sh/v3/covid-19/all");case 2:return t=e.sent,e.next=5,J("https://disease.sh/v3/covid-19/countries");case 5:n=e.sent,r=C(n),V(t),_(r),P(n),U(w);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var G=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,W(n),e.next=4,A(n);case 4:r=e.sent,V(r),d([r.countryInfo.lat,r.countryInfo.long]),O("worldwide"===n?3:4);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)(v,{countries:y,country:L,onCountryChange:G,lastUpdate:I(null===B||void 0===B?void 0:B.updated)}),Object(j.jsxs)("div",{className:"infoboxes",children:[Object(j.jsx)(R,{isRed:!0,active:"cases"===n,onClick:function(e){return r("cases")},title:"Cases",total:null===B||void 0===B?void 0:B.cases,cases:null===B||void 0===B?void 0:B.todayCases}),Object(j.jsx)(R,{isRed:!1,active:"recovered"===n,onClick:function(e){return r("recovered")},title:"Recovered",total:null===B||void 0===B?void 0:B.recovered,cases:null===B||void 0===B?void 0:B.todayRecovered}),Object(j.jsx)(R,{isRed:!0,active:"deaths"===n,onClick:function(e){return r("deaths")},title:"Deaths",total:null===B||void 0===B?void 0:B.deaths,cases:null===B||void 0===B?void 0:B.todayDeaths})]}),Object(j.jsx)(T,{countries:S,center:s,zoom:x,type:n})]}),Object(j.jsx)("div",{className:"right",children:Object(j.jsx)(p.a,{children:Object(j.jsxs)(b.a,{children:[Object(j.jsx)("h3",{children:"Total Cases by Country"}),Object(j.jsx)(z,{countries:$}),Object(j.jsxs)("h3",{children:["Worldwide new ",n]}),Object(j.jsx)(Y,{type:n})]})})})]})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,246)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Q,{})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/coronatracker",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/coronatracker","/service-worker.js");$?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):_(e)}))}}(),Z()},97:function(e,t,n){}},[[204,1,2]]]);
//# sourceMappingURL=main.44290bd2.chunk.js.map