(this["webpackJsonpcorona-tracker"]=this["webpackJsonpcorona-tracker"]||[]).push([[0],{107:function(e,t,n){},114:function(e,t,n){},116:function(e,t,n){},211:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),s=(n(107),n(11)),i=n.n(s),u=n(19),l=n(14),d=n(240),f=n(250),h=n(251),j=n(3),p=function(e){return Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("h1",{children:"COVID-19 Tracker"}),Object(j.jsxs)("h5",{className:"lastupdate",children:["Last update: ",e.lastUpdate]}),Object(j.jsx)(d.a,{className:"dropdown",children:Object(j.jsxs)(f.a,{variant:"outlined",onChange:e.onCountryChange,value:e.country,children:[Object(j.jsx)(h.a,{value:"worldwide",children:"Worldwide"}),e.countries.map((function(e){return Object(j.jsx)(h.a,{value:e.value,children:e.name},e.name)}))]})})]})},v=n(245),b=n(246),x=n(247),O=(n(114),n(252)),m=n(244),y=n(21),g=n.n(y),w=n(69),k=n.n(w),C=function(e,t){var n,r=[];for(var a in e.cases){if(n){var c={x:a,y:e[t][a]-n};r.push(c)}n=e[t][a]}return r},N={cases:{hex:"#CC1034",multiplier:500},recovered:{hex:"#7dd71d",multiplier:500},deaths:{hex:"#fb4443",multiplier:1700}},S=function(e){return e?g()(e).format("0.0a"):"0"},P=function(e){if(e)return k()(e).fromNow()},R=function(e){return Object(j.jsx)(v.a,{className:"infobox ".concat(e.active&&"infobox--selected"," ").concat(e.isRed&&"infobox--isRed"),onClick:e.onClick,children:Object(j.jsxs)(b.a,{children:[Object(j.jsx)(x.a,{className:"title",color:"textSecondary",children:e.title}),Object(j.jsxs)("h2",{className:"cases ".concat(!e.isRed&&"infobox--notRed"),children:["+",S(e.cases)]}),Object(j.jsxs)(x.a,{className:"total",color:"textSecondary",children:[S(e.total)," Total"]})]})})},I=(n(115),n(116),n(248)),L=n(253),M=n(249),W=function(e){return Object(j.jsx)("div",{className:"map",children:Object(j.jsxs)(I.a,{center:e.center,zoom:e.zoom,children:[Object(j.jsx)(D,{center:e.center,zoom:e.zoom}),Object(j.jsx)(L.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.countries?(t=e.countries,n=e.type,t.map((function(e){return Object(j.jsx)(O.a,{center:[e.countryInfo.lat,e.countryInfo.long],fillOpacity:.4,pathOptions:{color:N[n].hex,fillColor:N[n].hex},radius:Math.sqrt(e[n])*N[n].multiplier,children:Object(j.jsx)(m.a,{children:Object(j.jsxs)("div",{className:"info-container",children:[Object(j.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(j.jsx)("div",{className:"info-name",children:e.country}),Object(j.jsxs)("div",{className:"info-confirmed",children:["Cases: ",g()(e.cases).format("0,0")]}),Object(j.jsxs)("div",{className:"info-recovered",children:["Recovered: ",g()(e.recovered).format("0,0")]}),Object(j.jsxs)("div",{className:"info-deaths",children:["Deaths: ",g()(e.deaths).format("0,0")]})]})})},e.country)}))):Object(j.jsx)("div",{})]})});var t,n},D=function(e){return Object(M.a)().setView(e.center,e.zoom),Object(j.jsx)("div",{})},E=function(e){return Object(j.jsx)("div",{className:"table",children:Object(j.jsx)("table",{children:Object(j.jsx)("tbody",{children:e.countries.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.country}),Object(j.jsx)("td",{children:Object(j.jsx)("strong",{children:g()(e.cases).format("0,0")})})]},e.country)}))})})})},T=n(96),U=n(26),z=function(){var e=Object(u.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="worldwide"===t?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(t),e.next=3,B(n);case 3:if(r=e.sent,"worldwide"!==t){e.next=8;break}return e.abrupt("return",Object(U.a)(Object(U.a)({},r),{},{countryInfo:{lat:34.80746,long:-40.4796}}));case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://disease.sh/v3/covid-19/historical/all?lastdays=".concat(t),e.next=3,B(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var n=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}}));t(n)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return g()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,n){return g()(e).format("0a")}}}]}},V=function(e){var t=a.a.useState(),n=Object(l.a)(t,2),r=n[0],c=n[1];return a.a.useEffect((function(){(function(){var t=Object(u.a)(i.a.mark((function t(){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(120);case 2:n=t.sent,r=C(n,e.type),c(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.type]),Object(j.jsx)("div",{className:"graph",children:Object(j.jsx)(T.Line,{data:{datasets:[{backgroundColor:"rgba(204, 16, 52, 0.5)",borderColor:"#CC1034",data:r}]},options:J})})},Y=(n(211),{updated:1616084947223,country:"Loading... Please wait",countryInfo:{_id:1,iso2:"FI",iso3:"FIN",lat:64,long:26,flag:"https://disease.sh/assets/img/flags/fi.png"},cases:1,todayCases:1,deaths:1,todayDeaths:1,recovered:1,todayRecovered:1,active:1,critical:1,casesPerOneMillion:1,deathsPerOneMillion:1,tests:1,testsPerOneMillion:1,population:1,continent:"Europe",oneCasePerPeople:1,oneDeathPerPeople:1,oneTestPerPeople:1,activePerOneMillion:1.11,recoveredPerOneMillion:1.01,criticalPerOneMillion:1.01}),q=n(10);var $=function(e){var t=Object(q.f)(),n=a.a.useState("cases"),r=Object(l.a)(n,2),c=r[0],o=r[1],s=a.a.useState([34.80746,-40.4796]),d=Object(l.a)(s,2),f=d[0],h=d[1],x=a.a.useState(3),O=Object(l.a)(x,2),m=O[0],y=O[1],g=a.a.useState([]),w=Object(l.a)(g,2),k=w[0],C=w[1],N=a.a.useState([]),S=Object(l.a)(N,2),I=S[0],L=S[1],M=a.a.useState("worldwide"),D=Object(l.a)(M,2),T=D[0],U=D[1],F=a.a.useState(),J=Object(l.a)(F,2),$=J[0],_=J[1],G=a.a.useState([Y]),H=Object(l.a)(G,2),K=H[0],Q=H[1];a.a.useEffect((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B("https://disease.sh/v3/covid-19/all");case 2:return t=e.sent,e.next=5,B("https://disease.sh/v3/covid-19/countries");case 5:n=e.sent,r=n.sort((function(e,t){return e.cases>t.cases?-1:1})),Q(r),L(n),A(C),_(t);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a.a.useEffect((function(){var t=new URLSearchParams(e.location.search).get("country");t&&U(t)}),[e.location.search]),a.a.useEffect((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(T);case 2:t=e.sent,_(t),h([t.countryInfo.lat,t.countryInfo.long]),y("worldwide"===T?3:4);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[T]),a.a.useEffect((function(){var n=new URLSearchParams(e.location.search),r=n.get("country");T&&!r&&(n.append("country",T),t.push({search:n.toString()})),r&&U(r),console.log(n.toString())}),[T,t,e.location.search]);var X=function(){var n=Object(u.a)(i.a.mark((function n(r){var a,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=r.target.value,U(a),(c=new URLSearchParams(e.location.search)).delete("country"),c.append("country",a),t.push({search:c.toString()});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"app",children:[Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)(p,{countries:k,country:T,onCountryChange:X,lastUpdate:P(null===$||void 0===$?void 0:$.updated)}),Object(j.jsxs)("div",{className:"infoboxes",children:[Object(j.jsx)(R,{isRed:!0,active:"cases"===c,onClick:function(e){return o("cases")},title:"Cases",total:null===$||void 0===$?void 0:$.cases,cases:null===$||void 0===$?void 0:$.todayCases}),Object(j.jsx)(R,{isRed:!1,active:"recovered"===c,onClick:function(e){return o("recovered")},title:"Recovered",total:null===$||void 0===$?void 0:$.recovered,cases:null===$||void 0===$?void 0:$.todayRecovered}),Object(j.jsx)(R,{isRed:!0,active:"deaths"===c,onClick:function(e){return o("deaths")},title:"Deaths",total:null===$||void 0===$?void 0:$.deaths,cases:null===$||void 0===$?void 0:$.todayDeaths})]}),Object(j.jsx)(W,{countries:I,center:f,zoom:m,type:c})]}),Object(j.jsx)("div",{className:"right",children:Object(j.jsx)(v.a,{children:Object(j.jsxs)(b.a,{children:[Object(j.jsx)("h3",{children:"Total Cases by Country"}),Object(j.jsx)(E,{countries:K}),Object(j.jsxs)("h3",{children:["Worldwide new ",c]}),Object(j.jsx)(V,{type:c})]})})})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,255)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},G=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var K=n(97);o.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(K.a,{children:Object(j.jsx)(q.c,{children:Object(j.jsx)(q.a,{path:"/",component:$})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/coronatracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/coronatracker","/service-worker.js");G?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):H(t,e)}))}}(),_()}},[[213,1,2]]]);
//# sourceMappingURL=main.ebb753c9.chunk.js.map